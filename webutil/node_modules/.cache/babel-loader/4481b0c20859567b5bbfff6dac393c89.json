{"remainingRequest":"D:\\办公\\webutil\\webutil\\node_modules\\babel-loader\\lib\\index.js!D:\\办公\\webutil\\webutil\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\办公\\webutil\\webutil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\webutil\\webutil\\src\\views\\sql.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\webutil\\webutil\\src\\views\\sql.vue","mtime":1656460726923},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650718948123},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\babel-loader\\lib\\index.js","mtime":1650718948118},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650718948123},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\vue-loader\\lib\\index.js","mtime":1650718972654}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHRvcCBmcm9tICcuLi9jb21wb25lbnRzL3RvcC52dWUnOwppbXBvcnQgZm9vdCBmcm9tICcuLi9jb21wb25lbnRzL2Zvb3Rlci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3NxbCcsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcWw6ICcnLAogICAgICByZXM6ICcnCiAgICB9OwogIH0sCgogIGNvbXBvbmVudHM6IHsKICAgIHRvcCwKICAgIGZvb3QKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1YigpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgc3FsOiB0aGlzLnNxbAogICAgICB9OwogICAgICB0aGlzLnJlcyA9ICcnOwogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGh0dHBzICsgIi9zYXZlZGF0YWJhc2UiLCB0aGlzLiRxcy5zdHJpbmdpZnkoZGF0YSkpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnJlcyA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChyZXMgPT4gewogICAgICAgIGNvbnNvbGUocmVzKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfmiafooYzmiJDlip8s5Li65L+d6K+B5YeG56Gu5oCn77yM6K+35Yiw5pWw5o2u5bqT5p+l55yL77yBJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSk7CiAgICB9LAoKICAgIGNsZWFyKCkgewogICAgICB0aGlzLnNxbCA9ICcnOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;EACAA,WADA;;EAEAC;IACA;MACAC,OADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACAC,GADA;IAEAC;EAFA,CARA;EAYAC;IACAC;MACA;QACAN;MADA;MAGA;MACA;QACA;MACA,CAFA,EAEAO,KAFA,CAEAN;QACAO;MACA,CAJA;MAKA;QACAC,+BADA;QAEAC;MAFA;IAKA,CAhBA;;IAiBAC;MACA;IACA;;EAnBA;AAZA","names":["name","data","sql","res","components","top","foot","methods","sub","catch","console","message","type","clear"],"sourceRoot":"src/views","sources":["sql.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<top></top>\r\n\t\t<div style=\"margin-top: 50px;margin-left:20px ;margin-right: 20px;\">\r\n\t\t\t<el-input type=\"textarea\" :rows=\"8\" placeholder=\"请输入sql语句!\" v-model=\"sql\">\r\n\t\t\t</el-input>\r\n\t\t</div>\r\n\t\t<div class=\"btn\">\r\n\t\t\t<el-button type=\"primary\" @click=\"sub()\">提交</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t<el-button type=\"danger\" @click=\"clear()\">清空</el-button>\r\n\t\t</div>\r\n\t\t<div style=\"padding: 20px;\">\r\n\t\t\t快捷粘贴：<br />\r\n\t\t\t查询数据：select * from 'tablename';\r\n\t\t\t<br />\r\n\t\t\t查询表存在：select count(*) from pg_class where relname = 'tablename';\r\n\t\t\t<br />\r\n\t\t\t查询表结构：SELECT a.relname AS 表名, b.attname AS 字段名, c.typname AS 字段类型,\r\n\t\t\tCASE WHEN c.typlen = -1 THEN b.atttypmod - 4 ELSE c.typlen::integer END AS 字段大小,\r\n\t\t\td.description AS \"备注\"\r\n\t\t\tFROM pg_class a, pg_attribute b, pg_type c,pg_description d  WHERE and  d.objoid=a.attrelid and d.objsubid=a.attnum b.attrelid = a.oid AND b.atttypid = c.oid\r\n\t\t\tAND (a.relkind = 'r'::\"char\" OR a.relkind = 'v'::\"char\") AND a.relname !~~ 'pg_%'::text AND b.attname <>\r\n\t\t\t\t'tableoid'::name\r\n\t\t\t\tAND b.attname <> 'cmax'::name AND b.attname <> 'xmax'::name AND b.attname <> 'cmin'::name AND b.attname\r\n\t\t\t\t\t\t\t<> 'xmin'::name\r\n\t\t\t\t\t\t\t\tAND b.attname <> 'oid'::name AND b.attname <> 'ctid'::name and a.relname='table_name'\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t删除：DROP TABLE table_name;\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t插入：INSERT INTO TABLE_NAME VALUES (value1,value2,value3,...valueN);<br/>\r\n\t\t\t\t\t\t\t\t\t\tINSERT INTO TABLE_NAME (column1, column2, column3,...columnN)\r\n\t\t\t\t\t\t\t\t\t\tVALUES (value1, value2, value3,...valueN);\r\n\t\t</div>\r\n\t\t<div style=\"margin-top: 20px;padding: 20px;\" v-show=\"res!=''\">\r\n\t\t\t受影响行数：{{res.row}}<br /><br />\r\n\t\t\t<div>\r\n\t\t\t\t<el-table :data=\"res.result\" border>\r\n\t\t\t\t\t<el-table-column :label=\"val\" v-for=\"(val, i) in res.title\" :key=\"i\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">{{res.result[scope.$index][i]}}</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div style=\"height: 100px;\">\r\n\r\n\t\t</div>\r\n\t\t<foot></foot>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport top from '../components/top.vue'\r\n\timport foot from '../components/footer.vue'\r\n\texport default {\r\n\t\tname: 'sql',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsql: '',\r\n\t\t\t\tres: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\ttop,\r\n\t\t\tfoot\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsub() {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tsql: this.sql\r\n\t\t\t\t}\r\n\t\t\t\tthis.res = ''\r\n\t\t\t\tthis.$axios.post(this.$https + \"/savedatabase\", this.$qs.stringify(data)).then(res => {\r\n\t\t\t\t\tthis.res = res.data\r\n\t\t\t\t}).catch(res => {\r\n\t\t\t\t\tconsole(res)\r\n\t\t\t\t})\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '执行成功,为保证准确性，请到数据库查看！',\r\n\t\t\t\t\ttype: 'success'\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\tthis.sql = ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.page {\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t.top {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 40px;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tmargin-top: 20px;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\n"]}]}