{"remainingRequest":"D:\\办公\\webutil\\webutil\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\办公\\webutil\\webutil\\src\\views\\creatable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\办公\\webutil\\webutil\\src\\views\\creatable.vue","mtime":1656474666681},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650718948123},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1650718948111},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\babel-loader\\lib\\index.js","mtime":1650718948118},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650718948123},{"path":"D:\\办公\\webutil\\webutil\\node_modules\\vue-loader\\lib\\index.js","mtime":1650718972654}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB0b3AgZnJvbSAnLi4vY29tcG9uZW50cy90b3AudnVlJwppbXBvcnQgZm9vdCBmcm9tICcuLi9jb21wb25lbnRzL2Zvb3Rlci52dWUnCmV4cG9ydCBkZWZhdWx0ewoJbmFtZTonY3JlYXRldGFibGUnLAoJZGF0YSgpewoJCXJldHVybnsKCQkJb3B0aW9uczogW3sKCQkJIAl2YWx1ZTogJ+Wbveawkee7j+a1juaguOeulycsCgkJCQkJbGFiZWw6ICflm73msJHnu4/mtY7moLjnrpcnCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICflm7rlrprotYTkuqfmipXotYQnLAoJCQkJCWxhYmVsOiAn5Zu65a6a6LWE5Lqn5oqV6LWEJwoJCQkJfSwgewoJCQkJCXZhbHVlOiAn5a+55aSW57uP5rWO6LS45piTJywKCQkJCQlsYWJlbDogJ+WvueWklue7j+a1jui0uOaYkycKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+S7t+agvCcsCgkJCQkJbGFiZWw6ICfku7fmoLwnCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICfotKLmlL8nLAoJCQkJCWxhYmVsOiAn6LSi5pS/JwoJCQkJfSwKCQkJCXsKCQkJCQl2YWx1ZTogJ+mHkeiejeS4micsCgkJCQkJbGFiZWw6ICfph5Hono3kuJonCgkJCQl9LAoJCQkJewoJCQkJCXZhbHVlOiAn5L+d6Zmp5LiaJywKCQkJCQlsYWJlbDogJ+S/nemZqeS4micKCQkJCX0sCgkJCQl7CgkJCQkJdmFsdWU6ICflhpzkuJonLAoJCQkJCWxhYmVsOiAn5Yac5LiaJwoJCQkJfSwKCQkJCXsKCQkJCQl2YWx1ZTogJ+W3peS4micsCgkJCQkJbGFiZWw6ICflt6XkuJonCgkJCQl9LAoJCQkJewoJCQkJCXZhbHVlOiAn5bu6562R5LiaJywKCQkJCQlsYWJlbDogJ+W7uuetkeS4micKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+enkeaKgCcsCgkJCQkJbGFiZWw6ICfnp5HmioAnCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICfog73mupAnLAoJCQkJCWxhYmVsOiAn6IO95rqQJwoJCQkJfSwgewoJCQkJCXZhbHVlOiAn5Lqk6YCa6L+Q6L6TJywKCQkJCQlsYWJlbDogJ+S6pOmAmui/kOi+kycKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+aIv+WcsOS6pycsCgkJCQkJbGFiZWw6ICfmiL/lnLDkuqcnCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICfmibnlj5HkuI7pm7bllK4nLAoJCQkJCWxhYmVsOiAn5om55Y+R5LiO6Zu25ZSuJwoJCQkJfSwgewoJCQkJCXZhbHVlOiAn57uP5rWO5a6J5YWo5L+d6ZqcJywKCQkJCQlsYWJlbDogJ+e7j+a1juWuieWFqOS/nemanCcKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+S6uuWPoycsCgkJCQkJbGFiZWw6ICfkurrlj6MnCgkJCQl9LAoJCQkJewoJCQkJCXZhbHVlOiAn5bCx5Lia5Lq65ZGY5ZKM5bel6LWEJywKCQkJCQlsYWJlbDogJ+WwseS4muS6uuWRmOWSjOW3pei1hCcKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+S6uuawkeeUn+a0uycsCgkJCQkJbGFiZWw6ICfkurrmsJHnlJ/mtLsnCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICfnlJ/mgIHnjq/looPkv53miqQnLAoJCQkJCWxhYmVsOiAn55Sf5oCB546v5aKD5L+d5oqkJwoJCQkJfSwgewoJCQkJCXZhbHVlOiAn57u/6Imy55Sf5oCBJywKCQkJCQlsYWJlbDogJ+e7v+iJsueUn+aAgScKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+mCrueUteWSjOi9r+S7tuS4micsCgkJCQkJbGFiZWw6ICfpgq7nlLXlkozova/ku7bkuJonCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICfkvY/lrr/lkozppJDppa7kuJonLAoJCQkJCWxhYmVsOiAn5L2P5a6/5ZKM6aSQ6aWu5LiaJwoJCQkJfSwgewoJCQkJCXZhbHVlOiAn5peF5ri45LiaJywKCQkJCQlsYWJlbDogJ+aXhea4uOS4micKCQkJCX0sIHsKCQkJCQl2YWx1ZTogJ+aVmeiCsicsCgkJCQkJbGFiZWw6ICfmlZnogrInCgkJCQl9LCB7CgkJCQkJdmFsdWU6ICfnpL7kvJrmnI3liqEnLAoJCQkJCWxhYmVsOiAn56S+5Lya5pyN5YqhJwoJCQkJfQoJCQldLAoJCQl2YWx1ZTogJycsCgkJCWhhbmd5ZTonJywKCQkJenRhYmxlbmFtZTonJywKCQkJdGFibGVuYW1lOicnLAoJCQljdGFibGU6JycsCgkJCXJkYXRhOicnLAoJCQlpc3Nob3c6ZmFsc2UsCgkJCXJlczonJwoJCX0KCX0sCgljb21wb25lbnRzOnsKCQl0b3AsCgkJZm9vdAoJfSwKCW1ldGhvZHM6ewoJCXN1YigpewoJCQlsZXQgZGF0YSA9IHsKCQkJCXRhYmxlbmFtZTp0aGlzLnRhYmxlbmFtZSwKCQkJCXp0YWJsZW5hbWU6dGhpcy56dGFibGVuYW1lLAoJCQkJaGFuZ3llOnRoaXMuaGFuZ3llLAoJCQkJZGF0YSA6dGhpcy5jdGFibGUKCQkJfQoJCQl0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGh0dHBzKyIvY3JlYXRldGFibGUiLHRoaXMuJHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXM9PnsKCQkJCXRoaXMucmRhdGEgPSByZXMuZGF0YS5kYXRhCgkJCQl0aGlzLmlzc2hvdyA9dHJ1ZQoJCQl9KS5jYXRjaChyZXM9PnsKCQkJCWNvbnNvbGUocmVzKQoJCQl9KQoJCX0sCgkJY2xlYXIoKXsKCQkJdGhpcy50YWJsZW5hbWUgPSAnJwoJCQl0aGlzLmN0YWJsZSA9ICcnCgkJCXRoaXMucmRhdGEgPSAnJwoJCQl0aGlzLnp0YWJsZW5hbWUgPSAnJwoJCQl0aGlzLmhhbmd5ZSA9ICcnCgkJCXRoaXMucmVzID0gJycKCQkJdGhpcy5pc3Nob3cgPSBmYWxzZQoJCX0sCgkJc2F2ZSgpewoJCQlsZXQgZGF0YSA9IHsKCQkJCXRhYmxlbmFtZTp0aGlzLnRhYmxlbmFtZSwKCQkJCXp0YWJsZW5hbWU6dGhpcy56dGFibGVuYW1lLAoJCQkJaGFuZ3llOnRoaXMudmFsdWUsCgkJCQlkYXRhOnRoaXMucmRhdGEKCQkJfQkJCgkJCXRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cHMrIi9zYXZldGFibGUiLHRoaXMuJHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXM9PnsKCQkJCWNvbnNvbGUubG9nKHJlcykKCQkJCWlmKHJlcy5zdGF0dXM9PTIwMCl7CgkJCQkJCXRoaXMuJG1lc3NhZ2UoeyBtZXNzYWdlOifkv53lrZjmiJDlip/vvIEnLHR5cGU6ICdzdWNjZXNzJ30pOwoJCQkJfWVsc2V7CgkJCQkJdGhpcy4kbWVzc2FnZS5lcnJvciggJ+S/neWtmOWksei0pe+8gScpOwoJCQkJfQoJCQl9KS5jYXRjaChyZXM9PnsKCQkJCQoJCQl9KQoJCX0sCgkJc2F2ZWRhdGFiYXNlKCl7CgkJCWxldCB3b3JkID0gJycKCQkJbGV0IGRhdGEgPSB7CgkJCQlzcWw6d29yZCt0aGlzLnJkYXRhCgkJCX0KCQkJdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRodHRwcysiL3NhdmVkYXRhYmFzZSIsdGhpcy4kcXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKHJlcz0+ewoJCQkJY29uc29sZS5sb2cocmVzLmRhdGEpCgkJCQlpZihyZXMuc3RhdHVzPT0yMDApewoJCQkJCXRoaXMuJG1lc3NhZ2UoeyBtZXNzYWdlOifmiafooYzmiJDlip/vvIEnLHR5cGU6ICdzdWNjZXNzJ30pOwoJCQkJfWVsc2V7CgkJCQkJdGhpcy4kbWVzc2FnZS5lcnJvciggJ+S/neWtmOWksei0pe+8gScpOwoJCQkJfQoJCQl9KS5jYXRjaChyZXM9PnsKCQkJCWNvbnNvbGUocmVzKQoJCQl9KQoJCX0sCgkJc2VhcmNoZGF0YWJhc2UoKXsKCQkJbGV0IHdvcmQgPSAic2VsZWN0IGNvdW50KCopIGZyb20gcGdfY2xhc3Mgd2hlcmUgcmVsbmFtZSA9ICciK3RoaXMudGFibGVuYW1lKyInOyIKCQkJbGV0IGRhdGEgPSB7CgkJCQlzcWw6d29yZAoJCQl9CgkJCXRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cHMrIi9zYXZlZGF0YWJhc2UiLHRoaXMuJHFzLnN0cmluZ2lmeShkYXRhKSkudGhlbihyZXM9PnsKCQkJCXRoaXMucmVzID0gcmVzLmRhdGEKCQkJCWNvbnNvbGUubG9nKHJlcy5kYXRhKQoJCQkJaWYodGhpcy5yZXMucmVzdWx0WzBdPT0xKXsKCQkJCQl0aGlzLiRtZXNzYWdlKHsgbWVzc2FnZTon6K+l6KGo5a2Y5ZyoJyx0eXBlOiAnc3VjY2Vzcyd9KQoJCQkJfWVsc2V7CgkJCQkJdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6J+ivpeihqOS4jeWtmOWcqCcsdHlwZTogJ2Vycm9yJ30pCgkJCQl9CgkJCX0pLmNhdGNoKHJlcz0+ewoJCQkJY29uc29sZShyZXMpCgkJCX0pCgkJfSwKCQljb25zdHJ1Y3RkYXRhYmFzZSgpewoJCQlsZXQgd29yZCA9ICJzZWxlY3QgYS5hdHRudW0gQVMg5bqP5Y+3LGMucmVsbmFtZSBBUyDooajlkI0sY2FzdChvYmpfZGVzY3JpcHRpb24oYy5vaWQpIEFTIHZhcmNoYXIpIEFTIOihqOWQjeaPj+i/sCxhLmF0dG5hbWUgQVMg5YiX5ZCNLHQudHlwbmFtZSBBUyDlrZfmrrXnsbvlnossQ0FTRSBXSEVOIHQudHlwbGVuID0gLTEgVEhFTiBhLmF0dHR5cG1vZCAtIDQgRUxTRSB0LnR5cGxlbjo6aW50ZWdlciBFTkQgQVMg5a2X5q615aSn5bCPICxkLmRlc2NyaXB0aW9uIEFTIOWkh+azqCBmcm9tIHBnX2F0dHJpYnV0ZSBhIGxlZnQgam9pbiBwZ19kZXNjcmlwdGlvbiBkIG9uIGQub2Jqb2lkID0gYS5hdHRyZWxpZCBhbmQgZC5vYmpzdWJpZCA9IGEuYXR0bnVtIGxlZnQgam9pbiBwZ19jbGFzcyBjIG9uIGEuYXR0cmVsaWQgPSBjLm9pZCBsZWZ0IGpvaW4gcGdfdHlwZSB0IG9uIGEuYXR0dHlwaWQgPSB0Lm9pZCB3aGVyZSBhLmF0dG51bSA+PSAwIGFuZCBjLnJlbG5hbWUgbGlrZSAgICciKyB0aGlzLnRhYmxlbmFtZSArIicgICBvcmRlciBieSBjLnJlbG5hbWUgZGVzYyxhLmF0dG51bSBhc2M7IgoJCQlsZXQgZGF0YSA9IHsKCQkJCXNxbDp3b3JkCgkJCX0KCQkJdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRodHRwcysiL3NhdmVkYXRhYmFzZSIsdGhpcy4kcXMuc3RyaW5naWZ5KGRhdGEpKS50aGVuKHJlcz0+ewoJCQkJdGhpcy5yZXMgPSByZXMuZGF0YQoJCQl9KS5jYXRjaChyZXM9PnsKCQkJCWNvbnNvbGUocmVzKQoJCQl9KQoJCX0KCQkKCQkKCX0KfQo="},{"version":3,"sources":["creatable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"creatable.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t<top></top>\r\n\t\t\t<div class=\"top\">\r\n\t\t\t<div style=\"flex: 2;padding: 5px;\">\r\n\t\t\t\t<el-input v-model=\"ztablename\" placeholder=\"中文表名\"></el-input>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"flex: 2;padding: 5px;\">\r\n\t\t\t\t<el-input v-model=\"tablename\" placeholder=\"英文表名\"></el-input>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"flex: 3;padding: 5px;\">\r\n\t\t\t\t<el-select v-model=\"value\" clearable placeholder=\"请选择行业名称\">\r\n\t\t\t\t\t<el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"flex: 3;line-height: 50px;\">\r\n\t\t\t\t<el-button style=\"width: 120px;\" type=\"primary\" @click=\"constructdatabase()\"  >查看表结构</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-button style=\"width: 120px;\" type=\"primary\" @click=\"searchdatabase()\"  >查看表存在</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<router-link to=\"/tabledetail\"><span style=\"color: #1989fa;font-weight: bold;\">查看已保存</span></router-link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\t<div style=\"flex: 1;padding-right: 20px;margin-top: 20px;\">\r\n\t\t\t\t<el-input type=\"textarea\" :rows=\"16\" placeholder=\"请输入字段名 字段中文名 字段类型 是否主键 是否可空以空格隔开,每行以中文句号结尾\" v-model=\"ctable\">\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"padding: 15px;text-align: center;\">\r\n\t\t\t\t<el-button style=\"width: 100px;\" type=\"primary\" @click=\"sub()\">提交</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-button style=\"width: 100px;\" type=\"danger\" @click=\"clear()\">清空</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div style=\"padding: 10px;\">\r\n\t\t\t<p>{{rdata}}</p>\r\n\t\t</div>\r\n\t\t<div v-show=\"isshow\" style=\"text-align: center;\">\r\n\t\t\t<el-button style=\"width: 100px;\" type=\"primary\" @click=\"save()\">保存</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t<el-button style=\"width: 100px;\" type=\"primary\" @click=\"savedatabase()\">物理表</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<div style=\"margin-top: 20px;padding: 20px;\" v-show=\"res!=''\">\r\n\t\t\t<br /><br />\r\n\t\t\t<div>\r\n\t\t\t\t<el-table :data=\"res.result\" border>\r\n\t\t\t\t\t<el-table-column :label=\"val\" v-for=\"(val, i) in res.title\" :key=\"i\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">{{res.result[scope.$index][i]}}</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- // let word = \"select count(*) from pg_class where relname = '\"+this.tablename+\"';\" -->\r\n\t\t<div style=\"height: 100px;\">\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<foot></foot>\r\n\t</div>\n</template>\n\n<script>\r\n\timport top from '../components/top.vue'\r\n\timport foot from '../components/footer.vue'\r\n\texport default{\r\n\t\tname:'createtable',\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\toptions: [{\r\n\t\t\t\t \tvalue: '国民经济核算',\r\n\t\t\t\t\t\tlabel: '国民经济核算'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '固定资产投资',\r\n\t\t\t\t\t\tlabel: '固定资产投资'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '对外经济贸易',\r\n\t\t\t\t\t\tlabel: '对外经济贸易'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '价格',\r\n\t\t\t\t\t\tlabel: '价格'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '财政',\r\n\t\t\t\t\t\tlabel: '财政'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '金融业',\r\n\t\t\t\t\t\tlabel: '金融业'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '保险业',\r\n\t\t\t\t\t\tlabel: '保险业'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '农业',\r\n\t\t\t\t\t\tlabel: '农业'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '工业',\r\n\t\t\t\t\t\tlabel: '工业'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '建筑业',\r\n\t\t\t\t\t\tlabel: '建筑业'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '科技',\r\n\t\t\t\t\t\tlabel: '科技'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '能源',\r\n\t\t\t\t\t\tlabel: '能源'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '交通运输',\r\n\t\t\t\t\t\tlabel: '交通运输'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '房地产',\r\n\t\t\t\t\t\tlabel: '房地产'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '批发与零售',\r\n\t\t\t\t\t\tlabel: '批发与零售'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '经济安全保障',\r\n\t\t\t\t\t\tlabel: '经济安全保障'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '人口',\r\n\t\t\t\t\t\tlabel: '人口'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '就业人员和工资',\r\n\t\t\t\t\t\tlabel: '就业人员和工资'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '人民生活',\r\n\t\t\t\t\t\tlabel: '人民生活'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '生态环境保护',\r\n\t\t\t\t\t\tlabel: '生态环境保护'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '绿色生态',\r\n\t\t\t\t\t\tlabel: '绿色生态'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '邮电和软件业',\r\n\t\t\t\t\t\tlabel: '邮电和软件业'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '住宿和餐饮业',\r\n\t\t\t\t\t\tlabel: '住宿和餐饮业'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '旅游业',\r\n\t\t\t\t\t\tlabel: '旅游业'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '教育',\r\n\t\t\t\t\t\tlabel: '教育'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: '社会服务',\r\n\t\t\t\t\t\tlabel: '社会服务'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tvalue: '',\r\n\t\t\t\thangye:'',\r\n\t\t\t\tztablename:'',\r\n\t\t\t\ttablename:'',\r\n\t\t\t\tctable:'',\r\n\t\t\t\trdata:'',\r\n\t\t\t\tisshow:false,\r\n\t\t\t\tres:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\ttop,\r\n\t\t\tfoot\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tsub(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\ttablename:this.tablename,\r\n\t\t\t\t\tztablename:this.ztablename,\r\n\t\t\t\t\thangye:this.hangye,\r\n\t\t\t\t\tdata :this.ctable\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios.post(this.$https+\"/createtable\",this.$qs.stringify(data)).then(res=>{\r\n\t\t\t\t\tthis.rdata = res.data.data\r\n\t\t\t\t\tthis.isshow =true\r\n\t\t\t\t}).catch(res=>{\r\n\t\t\t\t\tconsole(res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclear(){\r\n\t\t\t\tthis.tablename = ''\r\n\t\t\t\tthis.ctable = ''\r\n\t\t\t\tthis.rdata = ''\r\n\t\t\t\tthis.ztablename = ''\r\n\t\t\t\tthis.hangye = ''\r\n\t\t\t\tthis.res = ''\r\n\t\t\t\tthis.isshow = false\r\n\t\t\t},\r\n\t\t\tsave(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\ttablename:this.tablename,\r\n\t\t\t\t\tztablename:this.ztablename,\r\n\t\t\t\t\thangye:this.value,\r\n\t\t\t\t\tdata:this.rdata\r\n\t\t\t\t}\t\t\r\n\t\t\t\tthis.$axios.post(this.$https+\"/savetable\",this.$qs.stringify(data)).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.status==200){\r\n\t\t\t\t\t\t\tthis.$message({ message:'保存成功！',type: 'success'});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message.error( '保存失败！');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(res=>{\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsavedatabase(){\r\n\t\t\t\tlet word = ''\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tsql:word+this.rdata\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios.post(this.$https+\"/savedatabase\",this.$qs.stringify(data)).then(res=>{\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tif(res.status==200){\r\n\t\t\t\t\t\tthis.$message({ message:'执行成功！',type: 'success'});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message.error( '保存失败！');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(res=>{\r\n\t\t\t\t\tconsole(res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearchdatabase(){\r\n\t\t\t\tlet word = \"select count(*) from pg_class where relname = '\"+this.tablename+\"';\"\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tsql:word\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios.post(this.$https+\"/savedatabase\",this.$qs.stringify(data)).then(res=>{\r\n\t\t\t\t\tthis.res = res.data\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tif(this.res.result[0]==1){\r\n\t\t\t\t\t\tthis.$message({ message:'该表存在',type: 'success'})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message({ message:'该表不存在',type: 'error'})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(res=>{\r\n\t\t\t\t\tconsole(res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconstructdatabase(){\r\n\t\t\t\tlet word = \"select a.attnum AS 序号,c.relname AS 表名,cast(obj_description(c.oid) AS varchar) AS 表名描述,a.attname AS 列名,t.typname AS 字段类型,CASE WHEN t.typlen = -1 THEN a.atttypmod - 4 ELSE t.typlen::integer END AS 字段大小 ,d.description AS 备注 from pg_attribute a left join pg_description d on d.objoid = a.attrelid and d.objsubid = a.attnum left join pg_class c on a.attrelid = c.oid left join pg_type t on a.atttypid = t.oid where a.attnum >= 0 and c.relname like   '\"+ this.tablename +\"'   order by c.relname desc,a.attnum asc;\"\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tsql:word\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios.post(this.$https+\"/savedatabase\",this.$qs.stringify(data)).then(res=>{\r\n\t\t\t\t\tthis.res = res.data\r\n\t\t\t\t}).catch(res=>{\r\n\t\t\t\t\tconsole(res)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.top {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 50px;\r\n\t}\n</style>"]}]}